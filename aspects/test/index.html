
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="This website collects practical knowlege about MPS and popular MPS platforms such as MPS-extensions and mbeddr. It is written mainly in the form of a Q&amp;A." name="description"/>
<meta content="MPS Platform Docs team" name="author"/>
<link href="https://mbeddr.github.io/mps-platform-docs/aspects/test/" rel="canonical"/>
<link href="../../assets/favicon.png" rel="icon"/>
<meta content="mkdocs-1.3.0, mkdocs-material-8.4.0rc1" name="generator"/>
<title>Test aspect - MPS Platform Docs</title>
<link href="../../assets/stylesheets/main.476df7d4.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>html.glightbox-open { overflow: initial; height: 100%; }</style><script src="../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="" data-md-color-primary="light-green" data-md-color-scheme="" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#test-aspect">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="MPS Platform Docs" class="md-header__button md-logo" data-md-component="logo" href="../.." title="MPS Platform Docs">
<img alt="logo" src="../../assets/logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            MPS Platform Docs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Test aspect
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-hidden="true" class="md-option" data-md-color-accent="" data-md-color-media="" data-md-color-primary="light-green" data-md-color-scheme="" id="__palette_1" name="__palette" type="radio"/>
<input aria-hidden="true" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="" data-md-color-scheme="" id="__palette_2" name="__palette" type="radio"/>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/mbeddr/mps-platform-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    mps-platform-docs
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-tabs__inner md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        Home
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../structure/">
        Aspects
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../languages/">
        Languages
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../mbeddr/">
        Mbeddr
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../build/">
        Build
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../mps_internal/">
        Internal MPS
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../clean_code/mps/">
        Clean code
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../patterns/language_design/">
        Language/UI patterns
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../reference/reading_list/">
        Reference
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../about/editing_this_guide/">
        About
      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="MPS Platform Docs" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="MPS Platform Docs">
<img alt="logo" src="../../assets/logo.png"/>
</a>
    MPS Platform Docs
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/mbeddr/mps-platform-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</div>
<div class="md-source__repository">
    mps-platform-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../..">Home</a>
<label for="__nav_1">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Home" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
          Home
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/general/">
        General
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/plugins/">
        Plugins
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/external_files_and_tools/">
        External files and tools
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/console/">
        Console
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/platform_specific_bugs/">
        OS-specific bugs
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/rcp/">
        RCP
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/trouble_shooting_guide/">
        Trouble shooting guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../home/debugging/">
        Debugging
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Aspects
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Aspects" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Aspects
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../structure/">
        Structure
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../editor/">
        Editor
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../actions/">
        Actions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../constraints/">
        Constraints
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../behavior/">
        Behavior
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../feedback/">
        Feedback
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../typesystem/">
        Typesystem
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../refactorings/">
        Refactorings
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../scripts/">
        Scripts
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../intentions/">
        Intentions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../findusages/">
        Find Usages
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../plugin/">
        Plugin
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dataflow/">
        Dataflow
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Test
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        Test
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#general">
    General
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../textgen/">
        TextGen
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../migration/">
        Migration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../vcs/">
        VCS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../generator/">
        Generator
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_19" id="__nav_2_19" type="checkbox"/>
<label class="md-nav__link" for="__nav_2_19">
          Contributed aspects
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Contributed aspects" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_2_19">
<span class="md-nav__icon md-icon"></span>
          Contributed aspects
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../documentation/">
        Documentation
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../listener/">
        Listener
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../polyfun/">
        Polyfun
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../virtualinterfaces/">
        Virtual Interfaces
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../transformations/">
        Transformations
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../languages/">Languages</a>
<label for="__nav_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Languages" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Languages
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../languages/baselanguage/">
        Baselanguage and extensions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../languages/mps_extensions/">
        MPS-extensions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../languages/double_dispatch/">
        Double dispatch
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../mbeddr/">Mbeddr</a>
<label for="__nav_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Mbeddr" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Mbeddr
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../mbeddr/big_project/">
        BigProject
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mbeddr/development_guide/">
        Development guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mbeddr/misc_topics/">
        Miscellaneous topics
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../build/">Build</a>
<label for="__nav_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Build" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Build
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../build/ci/">
        CI
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../build/gradle/">
        Gradle
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../build/command_line_tool/">
        Creating a command line tool
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../build/git/">
        Git
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../mps_internal/">Internal MPS</a>
<label for="__nav_6">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Internal MPS" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Internal MPS
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/open_api/">
        Open API
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_3" id="__nav_6_3" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../mps_internal/deps_and_classpath/">Dependencies and classpath</a>
<label for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Dependencies and classpath" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_3">
<span class="md-nav__icon md-icon"></span>
          Dependencies and classpath
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/terminology_and_ui_for_access/">
        Terminology and UI for access
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/models/">
        Models
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/dependencies/">
        Dependencies
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/recipes/">
        Recipes
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/classloading/">
        Classloading
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" id="__nav_6_5" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../mps_internal/threads/">Threading</a>
<label for="__nav_6_5">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Threading" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_6_5">
<span class="md-nav__icon md-icon"></span>
          Threading
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/threads/read_write_action_examples/">
        Example actions using locks
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/threads/named_threads/">
        Named threads
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/utility_classes/">
        Utility classes
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/gui/">
        GUI
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/intellij_sdk/">
        IntelliJ SDK
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/jcef/">
        Java Chromium Embedded Framework
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/intellij_integration/">
        IntelliJ integration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../mps_internal/navigating_mps_source/">
        Navigating the MPS sources
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../clean_code/mps/">Clean code</a>
<label for="__nav_7">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Clean code" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Clean code
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../clean_code/mps/readability_maintainability/">
        Readability/maintainability
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../clean_code/mps/deprecation/">
        Deprecation
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" id="__nav_7_4" type="checkbox"/>
<div class="md-nav__link md-nav__link--index">
<a href="../../clean_code/java/">Java (Base Language)</a>
<label for="__nav_7_4">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-label="Java (Base Language)" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_7_4">
<span class="md-nav__icon md-icon"></span>
          Java (Base Language)
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../clean_code/java/programming_principles/">
        Programming principles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../clean_code/java/java_style_guide/">
        Java style guide
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
          Language/UI patterns
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Language/UI patterns" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          Language/UI patterns
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/language_design/">
        Language design
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/user_experience/">
        User experience
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../patterns/ui_patterns/">
        UI patterns
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9">
          Reference
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Reference" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
          Reference
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/reading_list/">
        Reading list
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/icons/">
        Icons
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/exceptions/">
        Exceptions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/actions/">
        Actions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/abbreviations/">
        Abbreviations
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../reference/code_abbreviations/">
        Code abbreviations
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10">
          About
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="About" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          About
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/editing_this_guide/">
        Editing this guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/original_authors/">
        Original authors
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#general">
    General
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/mbeddr/mps-platform-docs/edit/main/src/doc/docs/aspects/test.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"></path></svg>
</a>
<h1 id="test-aspect">Test aspect<a class="headerlink" href="#test-aspect" title="Permanent link">¶</a></h1>
<blockquote>
<p>Testing is an essential part of language designer’s work.</p>
<p>— <cite><abbr title="Meta Programming System">MPS</abbr> documentation</cite></p>
</blockquote>
<h2 id="general">General<a class="headerlink" href="#general" title="Permanent link">¶</a></h2>
<div class="admonition question">
<p class="admonition-title">Can you add an annotation to skip tests the way it normally works with JUnit?</p>
<p>No, it isn’t supported. You have to comment out the test case. The only statement that supports this behaviour is the 
<em>assert</em> statement of KernelF (<a href="http://127.0.0.1:63320/node?ref=r%3Aba7faab6-2b80-43d5-8b95-0c440665312c%28org.iets3.core.expr.tests.structure%29%2F543569365052056266">AssertTestItem</a>).</p>
</div>
<div class="admonition question">
<p class="admonition-title">What’s the <em>TestInfo</em> node used for?</p>
<p>Specific Languages Blog: <a href="https://specificlanguages.com/posts/how-to-create-testinfo-node-for-your-tests/">How to create a TestInfo node for your tests</a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">How do node tests work?</p>
<p>Specific Languages Blog: <a href="https://specificlanguages.com/posts/2022-02/23-how-node-tests-work/">How do node tests work?</a></p>
</div>
<div class="admonition warning">
<p class="admonition-title">How to know if some <abbr title="Meta Programming System">MPS</abbr> code is inside a test?</p>
<blockquote>
<p>Given I <abbr title="abstract module">am</abbr> writing some code in <abbr title="Meta Programming System">MPS</abbr> that is supposed to run only if we’re not running tests. How can I detect if I’m running a test?</p>
</blockquote>
<ol>
<li>
<p>Don’t. Consider mocking something out instead or ensuring that you are testing on a low-enough level.</p>
</li>
<li>
<p>here are two options, if you really need to to this:</p>
</li>
</ol>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="c1">// true if running tests from inside the MPS process or from command line</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="n">jetbrains</span><span class="p">.</span><span class="na">mps</span><span class="p">.</span><span class="na">RuntimeFlags</span><span class="p">.</span><span class="na">getTestMode</span><span class="p">().</span><span class="na">isInsideTestEnvironment</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="c1">// true if running tests from command line only</span><span class="w"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="n">jetbrains</span><span class="p">.</span><span class="na">mps</span><span class="p">.</span><span class="na">RuntimeFlags</span><span class="p">.</span><span class="na">isTestMode</span><span class="p">()</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p><sub>contributed by: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/abstraktor" title="GitHub User: abstraktor">@abstraktor</a><sub></sub></sub></p>
</div>
<details class="question">
<summary>Why does the node ID change during a node test?</summary>
<blockquote>
<p>Given I have a node test case. My test case has a check node called <em>data</em> and my test case has a a test <em>test1</em> which prints the node ID of <em>data</em>
My test case has a a test <em>test2</em> which prints the node <abbr title="identification">id</abbr> of <em>data</em>.
When I run the test <em>test1</em> and <em>test2</em> print different node IDs.</p>
<p><strong>Why is that?</strong></p>
<p><a class="glightbox" href="../../img/node_with_id_changes_test.png"><img alt="node with id changes test" src="../../img/node_with_id_changes_test.png" width="800px"/></a></p>
<p>Terms used:</p>
<ul>
<li><strong>check-node</strong> for these fixture nodes that you enter into the test case under <em>nodes</em></li>
<li><strong>test case</strong> for the root node, the <em>chunk</em> that contains the tests</li>
<li><strong>tests</strong> for the test methods of which we have <em>test1</em> and <em>test2</em></li>
</ul>
</blockquote>
<ul>
<li>Each test case runs on its own copy of its model. </li>
</ul>
<p><abbr title="Meta Programming System">MPS</abbr> tries to keep tests reproducible and isolated even when being run in-process. For that, <abbr title="Meta Programming System">MPS</abbr> copies the whole model into a temporary model. Modifications of one test case will then be invisible to the next test case, since it will work on a new temporary model. This prevents test-cases from interacting.</p>
<p>Running tests in a separate model ensures that they will never modify the original model (as long as you don’t explicitly start acting on other models).</p>
<ul>
<li>Check-nodes per test</li>
</ul>
<p>A test-case may have multiple tests though. <abbr title="Meta Programming System">MPS</abbr> also isolates single tests within the same test case. For that, the check-nodes are copied once for each test. Each test may then <abbr title="actual">act</abbr> on their own copy.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="c1">// there is one data node in the model for each test</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="k">assert</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">equals</span><span class="w"> </span><span class="n">data</span><span class="p">.</span><span class="na">model</span><span class="p">.</span><span class="na">nodes</span><span class="p">(</span><span class="n">Data</span><span class="p">).</span><span class="na">size</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<ul>
<li>All tests of a test-case share their referenced nodes</li>
</ul>
<p>To save memory though, these check-nodes all lie in the same model for each test case. References to other nodes outside the test case will only need to be copied once and be shared by all tests of that test case. As a result, the IDs of check-nodes change and the IDs of non-check-nodes are the same as in the original model.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="c1">// nodes in this model that are not check-nodes of this test case will only be there once</span><span class="w"></span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="k">assert</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">equals</span><span class="w"> </span><span class="n">dataRef</span><span class="p">.</span><span class="na">model</span><span class="p">.</span><span class="na">nodes</span><span class="p">(</span><span class="n">Chunk</span><span class="p">).</span><span class="na">size</span><span class="p">;</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Consequently, multiple tests of the same test case are not fully isolated. In the following example, both tests assert and do the same, yet <em>test3</em> passes while <em>test4</em> fails. The data element is now located in a separate chunk outside the testcase and the check-node is a reference to it. As a result, <em>test4</em> is running red because <em>test3</em> already modified the referenced node.</p>
<p><a class="glightbox" href="../../img/tests_share_non_check_nodes.png"><img alt="tests share non check nodes" src="../../img/tests_share_non_check_nodes.png" width="600px"/></a></p>
<ul>
<li>
<p>Kinds of tests</p>
</li>
<li>
<p>I checked this behavior in-depth for node tests.</p>
</li>
<li>I think it is similar for editor tests.</li>
<li>I <abbr title="abstract module">am</abbr> sure that this does not apply to baseLang-tests since they don’t prepare a temporary model for you.</li>
</ul>
<h1 id="practical-effects-of-this">Practical effects of this<a class="headerlink" href="#practical-effects-of-this" title="Permanent link">¶</a></h1>
<p>These are some rules of thumb that result from that:</p>
<ul>
<li>The tests of a test-case may interact, so you should inline all modified nodes into the testcase to be <em>check-nodes</em>.</li>
<li>Whenever you modify many nodes in the model, consider writing a migration and migration test instead.</li>
<li>Remember that the console and each test will output separate IDs for the conceptually same node. And they will change from run to run.</li>
<li>Especially when stepping through tests, it is easy to be confused by that and draw false conclusions</li>
<li>Whenever your code queries for the nodes of a model, be ready to see duplicates for each test (as in the <em>dataRef</em> example). You may test this by asserting that something is included or excluded instead of asserting true equality of the expected and actual lists.</li>
<li>Another source for duplicates is if the test model imports itself.</li>
<li>If you need full power on the temporary model, consider writing a baseLanguage test and creating your repository and model by hand. <a href="https://github.com/JetBrains/MPS/blob/master/core/kernel/tests/jetbrains/mps/smodel/TestModelFactory.java">jetbrains.mps.smodel.TestModelFactory</a> allows to do that, e.g. the <a href="https://github.com/JetBrains/MPS/blob/master/core/kernel/tests/jetbrains/mps/smodel/ModelListenerTest.java">ModelListenerTest</a> uses that TestModelFactory. It is unfortunately not available as stubs, so that you’ll need to copy it to your project</li>
</ul>
<p><sub>contributed by: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/abstraktor" title="GitHub User: abstraktor">@abstraktor</a><sub></sub></sub></p>
</details>
<h2 id="how-to-test">How to test<a class="headerlink" href="#how-to-test" title="Permanent link">¶</a></h2>
<details class="question">
<summary>How to set up a generator smoke test?</summary>
<blockquote>
<p>I would like to write a generator smoke test.  Therefor, I have some solutions with models (regular one, not <em><a class="magiclink magiclink-github magiclink-mention" href="https://github.com/test" title="GitHub User: test">@test</a></em> models) which are build from command line and the generators invoked are generating some .c files.</p>
<p>In addition, I also have  a <em><a class="magiclink magiclink-github magiclink-mention" href="https://github.com/test" title="GitHub User: test">@test</a></em> model in the same solution with some unit tests which checks if the output directories of these models contain any generated files. I don’t invoke the generation of the models programatically but rely on the ant task which is generating the solution.</p>
<p>Unfortunately this setup always leads to broken tests. It seems like the unit tests are executed before the models (which are build during CI run) and though the test fails.</p>
</blockquote>
<p><sub>asked by: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/arimer" title="GitHub User: arimer">@arimer</a><sub></sub></sub></p>
<p>When the tests work fine when run from within the <abbr title="Integrated Development Environment">IDE</abbr>, then the problem is most probably that when your tests are executed, they are running from the jars and not the sources. The generator output location points into the jar file that the tests are executed from and not to the real source location.</p>
<p>You could change the packaging to include the <em>source_gen</em> folder for you specific test solution.</p>
<p>This can be done the following way in the default layout of your build model:</p>
<p><a class="glightbox" href="../../img/layout_module_myTestSolution.png"><img alt="layout: module myTestSolution" src="../../img/layout_module_myTestSolution.png"/></a></p>
<p>In this case you would need to detect if you are running from sources or from jar in CI and the change the location where you look for the generated files.</p>
<p>This can be done by calculation a solution relative path for the test solution containing the packed sources.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="c1">//case running from .jar</span><span class="w"></span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">module</span><span class="w"> </span><span class="k">instanceof</span><span class="w"> </span><span class="n">AbstractModule</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">((</span><span class="n">AbstractModule</span><span class="p">)</span><span class="w"> </span><span class="n">module</span><span class="p">).</span><span class="na">getModuleSourceDir</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a><span class="w">  </span><span class="n">AbstractModule</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">AbstractModule</span><span class="p">)</span><span class="w"> </span><span class="n">module</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="na">isPackaged</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">getModuleSourceDir</span><span class="p">().</span><span class="na">getBundleHome</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a><span class="w">    </span><span class="n">IFile</span><span class="w"> </span><span class="n">bundleHome</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">getModuleSourceDir</span><span class="p">().</span><span class="na">getBundleHome</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">bundleHome</span><span class="p">.</span><span class="na">getFileSystem</span><span class="p">().</span><span class="na">getFile</span><span class="p">(</span><span class="n">bundleHome</span><span class="p">.</span><span class="na">getPath</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">"!"</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">path</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a><span class="c1">// case: running from sources </span><span class="w"></span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a><span class="w">  </span><span class="n">IFile</span><span class="w"> </span><span class="n">relativePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="na">getModuleSourceDir</span><span class="p">().</span><span class="na">getDescendant</span><span class="p">(</span><span class="n">path</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">relativePath</span><span class="p">;</span><span class="w"> </span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>The easier solution is to place the tests in separate solution and then invoke the make process for the solution that contains your input programmatically, so you can assert over the output. An example implementation how the make process is invoked can be found in the <a href="http://127.0.0.1:63320/node?ref=r%3A35144171-bbda-419f-9015-4d1f075e1db4%28com.mbeddr.core.runconfiguration.pluginSolution.plugin%29%2F7943990500389317776">mbeddr-c part</a>.</p>
<p><sub>answered by: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/coolya" title="GitHub User: coolya">@coolya</a><sub></sub></sub></p>
</details>
<details class="question">
<summary>How to write editor tests for context assistants?</summary>
<blockquote>
<p>I need to unit tests <a href="https://www.jetbrains.com/help/mps/context-assistant.html">context assistants</a>, ideally with an EditorTestCase, but it is not supported out of the box, any idea?</p>
</blockquote>
<p>This snippet allows to automatically test context assistant in the code section of the <code>EditorTestCase</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span>
<span class="normal"><a href="#__codelineno-4-14">14</a></span>
<span class="normal"><a href="#__codelineno-4-15">15</a></span>
<span class="normal"><a href="#__codelineno-4-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="c1">// Context assistants takes some time to popup,otherwise getActiveAssistant returns null  </span><span class="w"></span>
<a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="n">Thread</span><span class="p">.</span><span class="na">sleep</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span><span class="w"> </span>
<a id="__codelineno-4-3" name="__codelineno-4-3"></a><span class="n">ContextAssistantManager</span><span class="w"> </span><span class="n">contextAssistantManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">editor</span><span class="w"> </span><span class="n">component</span><span class="p">.</span><span class="na">getEditorContext</span><span class="p">().</span><span class="na">getContextAssistantManager</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="kd">final</span><span class="w"> </span><span class="n">ContextAssistantController</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">ContextAssistantController</span><span class="p">)</span><span class="w"> </span><span class="n">contextAssistantManager</span><span class="p">.</span><span class="na">getActiveAssistant</span><span class="p">());</span><span class="w"> </span>
<a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="n">foreach</span><span class="w"> </span><span class="n">menuItem</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">contextAssistantManager</span><span class="p">.</span><span class="na">getActiveMenuItems</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="s">"Item Name"</span><span class="w"> </span><span class="p">:</span><span class="n">eq</span><span class="p">:</span><span class="w"> </span><span class="p">((</span><span class="n">ActionItemBase</span><span class="p">)</span><span class="w"> </span><span class="n">menuItem</span><span class="p">).</span><span class="na">getLabelText</span><span class="p">(</span><span class="s">""</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="c1">// Execute it in a BaseEditorTestBody context  </span><span class="w"></span>
<a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">Project</span><span class="w"> </span><span class="n">project</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_this</span><span class="p">.</span><span class="o">[</span><span class="n">Project</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">no</span><span class="w"> </span><span class="n">instance</span><span class="o">&gt;</span><span class="p">.</span><span class="na">getProject</span><span class="p">();</span><span class="w"> </span>
<a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">    </span><span class="n">_this</span><span class="p">.</span><span class="o">[</span><span class="kt">void</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">no</span><span class="w"> </span><span class="n">instance</span><span class="o">&gt;</span><span class="p">.</span><span class="na">runUndoableInEDTAndWait</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Runnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">      </span><span class="nd">@Override</span><span class="w"> </span>
<a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">      </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span>
<a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">        </span><span class="n">project</span><span class="p">.</span><span class="na">getModelAccess</span><span class="p">().</span><span class="na">executeCommand</span><span class="p">({</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">controller</span><span class="p">.</span><span class="na">executeActionItem</span><span class="p">((</span><span class="n">ActionItemBase</span><span class="p">)</span><span class="w"> </span><span class="n">menuItem</span><span class="p">);</span><span class="w"> </span><span class="p">});</span><span class="w"> </span>
<a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="w">      </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-4-14" name="__codelineno-4-14"></a><span class="w">    </span><span class="p">});</span><span class="w"> </span>
<a id="__codelineno-4-15" name="__codelineno-4-15"></a><span class="w">  </span><span class="p">}</span><span class="w"> </span>
<a id="__codelineno-4-16" name="__codelineno-4-16"></a><span class="p">}</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
<p>Note:<br/>
- “Item Name” must be replaced with the name of the item as shown in the editor<br/>
- “_this” is a concept from internalBaseLanguage <abbr title="Domain Specific Language">DSL</abbr>.</p>
<p><sub>contributed by: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/cmoine" title="GitHub User: cmoine">@cmoine</a><sub></sub></sub></p>
</details>
<details class="question">
<summary>How to name checking errors with dynamic messages?</summary>
<blockquote>
<p>When I make the error text dynamic:</p>
<p><a class="glightbox" href="../../img/dynamic_error_message.png"><img alt="dynamic error message" src="../../img/dynamic_error_message.png" width="300px"/></a></p>
<p>Then my error is named <code>UnnamedError</code> and I have a hard time selecting the right one:</p>
<p><a class="glightbox" href="../../img/dynamic_error_message_select.png"><img alt="dynamic error message select" src="../../img/dynamic_error_message_select.png"/></a></p>
<p>How do I name errors with dynamic messages?</p>
</blockquote>
<ol>
<li>Go to your error statement in your checking rule.</li>
<li>Import the language <ins>jetbrains.mps.<abbr title="language">lang</abbr>.test</ins>.</li>
<li>Run the intention <em>Add Message Annotation</em>.</li>
<li>Type a nice name.</li>
</ol>
<blockquote>
<p><a class="glightbox" href="../../img/dynamic_error_message_fix.png"><img alt="dynamic error message fix" src="../../img/dynamic_error_message_fix.png" width="300px"/></a></p>
<p><a class="glightbox" href="../../img/dynamic_error_message_fix_selection.png"><img alt="dynamic error message fix select" src="../../img/dynamic_error_message_fix_selection.png"/></a></p>
</blockquote>
<p>Note that this does not work for errors that result from <em>constraints</em>.</p>
<p><sub>contributed by: <a class="magiclink magiclink-github magiclink-mention" href="https://github.com/abstraktor" title="GitHub User: abstraktor">@abstraktor</a><sub></sub></sub></p>
</details>
<div class="admonition question">
<p class="admonition-title">What’s the best way to test the contents of the code completion/substitution menu for a given cursor position using a <em>NodesTestCase</em> or an <em>EditorTestCase</em>?</p>
<p>Example for an <code>EditorTestCase</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1">1</a></span>
<span class="normal"><a href="#__codelineno-5-2">2</a></span>
<span class="normal"><a href="#__codelineno-5-3">3</a></span>
<span class="normal"><a href="#__codelineno-5-4">4</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="n">SubstituteInfo</span><span class="w"> </span><span class="n">si</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">editor</span><span class="w"> </span><span class="n">component</span><span class="p">.</span><span class="na">getSelectedCell</span><span class="p">()).</span><span class="na">getSubstituteInfo</span><span class="p">();</span><span class="w"></span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="n">list</span><span class="o">&lt;</span><span class="n">SubstituteAction</span><span class="o">&gt;</span><span class="w"> </span><span class="n">actions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">si</span><span class="p">.</span><span class="na">getMatchingActions</span><span class="p">(</span><span class="s">""</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">);</span><span class="w"></span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="k">assert</span><span class="w"> </span><span class="n">actions</span><span class="p">.</span><span class="na">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span><span class="w"></span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="k">assert</span><span class="w"> </span><span class="n">actions</span><span class="p">.</span><span class="na">any</span><span class="p">({</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="na">getMatchingText</span><span class="p">().</span><span class="na">equals</span><span class="p">(</span><span class="s">"something"</span><span class="p">);</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
</code></pre></div></td></tr></table></div>
</div>
<h2 id="troubleshooting">Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permanent link">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Tests aren’t running at all.</p>
<p>A <a href="http://127.0.0.1:63320/node?ref=r%3A00000000-0000-4000-0000-011c89590388%28jetbrains.mps.lang.test.structure%29%2F5097124989038916362">test <abbr title="information">info</abbr> node</a> has to
be added to the model of the tests, so that the tests can find the path of the project. The project path also has to be set
in this node. Make sure that variables that are used in this path are set in <em>Preferences</em> → <em>Appearance &amp; Behavior</em> → <em>Path Variables</em>
(<a href="https://www.jetbrains.com/help/mps/testing-languages.html#testinfo">TestInfo | <abbr title="Meta Programming System">MPS</abbr></a>).</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Tests have a long warm up time and run slowly.</p>
<p>When running the tests from a run configuration, enable <code>Execute in the same process</code> in the configuration settings.
Also check the box <em>Allow parallel run</em> (<a href="https://www.jetbrains.com/help/mps/testing-languages.html#runningthetests">Running the tests | <abbr title="Meta Programming System">MPS</abbr></a>).</p>
</div>
<div class="admonition error">
<p class="admonition-title">Why does my test execution fail with “Test project ‘$…’ is not opened. Aborted”?</p>
<p>This is happening because the used variable in the <code>TestInfo</code> is not set. Go to <em>File</em> → <em>Settings</em> → <em>Path Variables</em> and create an entry for your variable, with a path to the project location on your hard drive.</p>
</div>
<hr/>
<div class="md-source-file">
<small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">July 21, 2022</span>
</small>
</div>
<!-- Giscus -->
<h2 id="__comments">Comments</h2>
<script async="" crossorigin="anonymous" data-category="General" data-category-id="DIC_kwDOHtFrws4CQY8v" data-emit-metadata="0" data-input-position="bottom" data-lang="en" data-mapping="pathname" data-reactions-enabled="1" data-repo="mbeddr/mps-platform-docs" data-repo-id="R_kgDOHtFrwg" data-strict="0" data-theme="light" src="https://giscus.app/client.js">
</script>
<!-- Reload on palette change -->
<script>
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object")
      if (palette.color.scheme === "slate") {
        var giscus = document.querySelector("script[src*=giscus]")
        giscus.setAttribute("data-theme", "dark")
      }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
      
    targetBlank();
    })
   
   function targetBlank() {
  // remove subdomain of current site's url and setup regex
  var internal = location.host.replace("www.", "");
      internal = new RegExp(internal, "i");
      
  var a = document.getElementsByTagName('a'); // then, grab every link on the page
  for (var i = 0; i < a.length; i++) {
    var href = a[i].host; // set the host of each link
    if( !internal.test(href) ) { // make sure the href doesn't contain current site's host
      a[i].setAttribute('target', '_blank'); // if it doesn't, set attributes
    }
  }
};
  </script>
</article>
</div>
</div>
<a class="md-top md-icon" data-md-component="top" hidden="" href="#">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg>
            Back to top
          </a>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Dataflow" class="md-footer__link md-footer__link--prev" href="../dataflow/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Dataflow
            </div>
</div>
</a>
<a aria-label="Next: TextGen" class="md-footer__link md-footer__link--next" href="../textgen/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              TextGen
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "header.autohide", "content.code.annotate", "search.suggest", "search.highlight", "search.share"], "search": "../../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="../../assets/javascripts/bundle.0bc13b87.min.js"></script>
<script src="../../javascripts/mathjax.js"></script>
<script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
<script src="../../javascripts/tablesort.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "width": "70vw", "height": "20vw", "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom"});})</script></body>
</html>