---
tags:
- files
- tools
---

## Import/Export

An often asked questions is about how to integrate MPS with existing tools, or how to import their data and use existing
frameworks or libraries. When you come from the Java world, you can reuse your code directly in MPS since Base Language is a
Java clone and the IntelliJ platform that MPS builds on is written in Java and Kotlin.

If MPS completely replaces existing tools, it is better to write an importer for existing data. Data that needs to be processed by a different tool can be exported or generated by MPS/your RCP can also be exported. This case can happen if you introduce it as part of a chain of tools that each use the
previous exported data as input.

Generators are not the only solution to export data. Other files such as Word or Excel documents can still be
generated through a Java library. If no library supports a special output format, you can still use [mps-plaintextgen](https://dslfoundry.com/plaintextgen-tutorial/) from {{ mps_extensions() }} to generate the files.

!!! question "How do you write an importer?"

    - [Writing an importer: Introduction](https://specificlanguages.com/posts/2022-01/06-writing-an-importer-introduction/){{ blog('sl') }}
    - [Writing an importer: Adding the action to a menu](https://specificlanguages.com/posts/2022-01/14-writing-an-importer-adding-action-to-menu/){{ blog('sl') }}
    - [Writing an importer: Invoking from the editor](https://specificlanguages.com/posts/2022-01/18-writing-an-importer-invoking-from-editor/){{ blog('sl') }}
    - [Writing an importer: Error handling considerations](https://specificlanguages.com/posts/2022-01/25-writing-an-importer-error-handling-considerations/){{ blog('sl') }}
    - [Writing an importer: Updating existing nodes](https://specificlanguages.com/posts/2022-02/14-writing-an-importer-updating-existing-nodes/){{ blog('sl') }}

    Alternatively, [custom persistence](https://www.jetbrains.com/help/mps/custom-persistence-cookbook.html) can be employed (rarely used).

!!! question "How do you deal with errors when writing an importer?"

    - Create a new tab in the messages view and show the errors.
    - Create error concepts in the language. If the import fails for a particular node, replace it with one of these error nodes in the output model. You can append some error messages. This way, you can also implement checking rules for the error nodes to display the errors as part of model checking. You can also use finders to find all occurrences of errors in the model.

!!! question "Is a wizard available to set up an MPS language based on an XML schema (defined in .xsd files)?"

    No, not possible at the moment, but you can create new projects from local or GitHub-hosted templates with [Lochkarte](https://github.com/coolya/Lochkarte)(experimental).

!!! question "Where do I put the Java JARs that I want to use as dependencies?"
    
    [Where do I put my JARs?](https://specificlanguages.com/posts/2022-03/04-where-do-i-put-my-jars/){{ blog('sl') }}

## Tools

Introducing MPS as a new tool can be challenging because there are concerns about integrating MPS with existing tools. You can find more details about this topic in [Language Design | Patterns](language_design.md).

While MPS is not a database or can replace certain tools, it can be used in the Web and also integrate tightly
with existing tools. For example, [Integrating into the MPS Make Framework | MPS documentation](https://www.jetbrains.com/help/mps/howto-integrating-into-the-mps-make-framework.html) shows how you can compile and execute generated C code with external tools.
Similar approaches have been done for other tools in the past. You can also send generated code to an external tools, get the result back and further process them in MPS. To achieve this, call the MPS generator directly (see: [[mpsutils_generator|MPS Utilities: Generator]]) and send the data via
`Runtime#getRuntime#.exec` or similar code to the external tool. Parse/import the result then back to MPS.

Alternatively, you can create a [run configuration](https://www.jetbrains.com/help/mps/run-configurations.html) to make root nodes executable by external tools. When you generate Java
code, you can get this functionality for free through the Base Language implementation.

!!! question "How can you run an LSP server for MPS grammars?"

    IntelliJ products have no support for LSP servers (see IDEABKL-7409), and no implementation exists in MPS.

!!! question "How can you use databases in MPS?"

    - MPS has no dedicated support for databases or frameworks such as Spring Boot (unlike IntelliJ IDEA).
    - [MPS is not a (relational) database](https://specificlanguages.com/posts/2022-01/12-mps-is-not-a-relational-database/){{ blog('sl') }}

!!! question "How can you create a standalone utility (not a complete IDE) for language generation with MPS?"

    This feature is not available at the moment, but you can interact with MPS models from Java when you set up the necessary dependencies:

    ```java
    import jetbrains.mps.smodel.ModelAccess;
    import jetbrains.mps.tool.environment.EnvironmentConfig;
    import jetbrains.mps.project.Project;
    import jetbrains.mps.tool.environment.MpsEnvironment;
    import org.jetbrains.mps.openapi.model.SModel;
    import org.jetbrains.mps.openapi.module.SModule;
    
    import java.io.File;
    
    public class Test {
        static String projectDir = "your MPS project path";
    
        public static void main(String[] args) {
            EnvironmentConfig config = EnvironmentConfig.emptyConfig();
            MpsEnvironment ourEnv = new MpsEnvironment(config);
            ourEnv.init();
            Project myProject = ourEnv.openProject(new File(projectDir));
            myProject.getModelAccess().runReadAction(() -> {
                for(SModule module:myProject.getProjectModules()) {
                    for(SModel model:module.getModels()) {
                    System.out.println(model.getName());
                    }
                }
            });
        }
    }
    ```

!!! question "How can you share MPS snippets?"

    You can use [Skadi Cloud Gists](https://gist.skadi.cloud).

!!! question "How can you run MPS in the browser?"

    You can try [Skadi Cloud](https://skadi.cloud/). There is also [Modelix](https://github.com/modelix/modelix) and [JetBrains Projector](https://blog.logv.ws/2021/03/16/jetbrains-projector-a-game-changer-for-jetbrains-mps-projects/). [LIonWeb](https://github.com/LIonWeb-org) is the newest project with [some information](https://github.com/LIonWeb-org#history) about other projects.

!!! question "How can you embed a web browser in MPS?"

    Since IntelliJ 2020.1, it is possible to use the [Java Chromium Embedded Framework](https://plugins.jetbrains.com/docs/intellij/jcef.html).
    Create a new Java Swing component in the editor:
    ```java
    JBCefBrowser myBrowser = new JBCefBrowser(myUrl);
    return myBrowser.getComponent();
    ```

    For more information, read the page about [JCEF](jcef.md).

!!! question "What is the future of MPS, especially regarding the cloud?"

    - [What is the future of MPS?](https://specificlanguages.com/posts/2022-06/22-what-is-the-future-of-mps/){{ blog('sl') }}